<svg xmlns="http://www.w3.org/2000/svg" width="1800" height="2400" viewBox="0 0 900 1200">
    <defs>
        <style>
            .box {
            fill: #000000;
            stroke: #ffffff;
            stroke-width: 2;
            rx: 10;
            ry: 10;
            }
            .title {
            font-family: "Source Code Pro", monospace;
            font-size: 18px;
            fill: #ffffff;
            }
            .subtitle {
            font-family: "Quicksand", sans-serif;
            font-size: 14px;
            font-weight: bold;
            fill: #00cc00;
            }
            .optional {
            font-size: 10px;
            fill: #ffffff;
            }
            .arrow {
            stroke: #ffffff;
            stroke-width: 2;
            fill: none;
            }
            .loop-label {
            font-family: "Times New Roman", serif;
            font-size: 14px;
            font-style: italic;
            fill: #cc00cc;
            }

        </style>

        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#ffffff" />
        </marker>
    </defs>

    <!-- socket() -->
    <g transform="translate(365,80)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="30" text-anchor="middle">socket()</text>
        <text class="subtitle" x="97.5" y="55" text-anchor="middle">Create an endpoint</text>
    </g>

    <!-- setsockopt() -->
    <g transform="translate(365,230)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="25" text-anchor="middle">setsockopt()</text>
        <text class="subtitle" x="97.5" y="48" text-anchor="middle">configuring behavior</text>
        <text class="optional" x="97.5" y="65" text-anchor="middle">(optional)</text>
    </g>

    <!-- bind() -->
    <g transform="translate(365,380)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="30" text-anchor="middle">bind()</text>
        <text class="subtitle" x="97.5" y="55" text-anchor="middle">Assign IP + port</text>
    </g>

    <!-- listen() -->
    <g transform="translate(365,530)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="30" text-anchor="middle">listen()</text>
        <text class="subtitle" x="97.5" y="55" text-anchor="middle">Make it accept connections</text>
    </g>

    <!-- accept() -->
    <g transform="translate(365,680)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="25" text-anchor="middle">accept()</text>
        <text class="subtitle" x="97.5" y="48" text-anchor="middle">Perform TCP handshake</text>
        <text class="subtitle" x="97.5" y="68" text-anchor="middle">and create client socket</text>
    </g>

    <!-- recv()/send() -->
    <g transform="translate(365,830)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="30" text-anchor="middle">recv()/send()</text>
        <text class="subtitle" x="97.5" y="55" text-anchor="middle">Exchange data</text>
    </g>

    <!-- close() -->
    <g transform="translate(365,980)">
        <rect class="box" width="195" height="80" rx="10" ry="10" />
        <text class="title" x="97.5" y="30" text-anchor="middle">close()</text>
        <text class="subtitle" x="97.5" y="55" text-anchor="middle">End connection</text>
    </g>

    <!-- Vertical arrows -->
    <line class="arrow" x1="462.5" y1="160" x2="462.5" y2="230" marker-end="url(#arrowhead)" />
    <line class="arrow" x1="462.5" y1="310" x2="462.5" y2="380" marker-end="url(#arrowhead)" />
    <line class="arrow" x1="462.5" y1="460" x2="462.5" y2="530" marker-end="url(#arrowhead)" />
    <line class="arrow" x1="462.5" y1="610" x2="462.5" y2="680" marker-end="url(#arrowhead)" />
    <line class="arrow" x1="462.5" y1="760" x2="462.5" y2="830" marker-end="url(#arrowhead)" />
    <line class="arrow" x1="462.5" y1="910" x2="462.5" y2="980" marker-end="url(#arrowhead)" />

    <!-- close() â†’ right point -->
    <line class="arrow" x1="560" y1="1020" x2="680" y2="1020" marker-end="url(#arrowhead)" />

    <!-- Back to accept() label -->
    <g transform="translate(685,1005)">
        <text class="loop-label" x="50" y="20" text-anchor="middle">Back to accept()</text>
    </g>

    <!-- Loop arrow back to accept() -->
    <polyline class="arrow" points="735,1010 730,720 562.5,720" marker-end="url(#arrowhead)" />
</svg>
